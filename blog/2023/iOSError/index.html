<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> iOS development debuging error record - 1 | Yuanlai He (Miles) </title> <meta name="author" content="Miles (Yuanlai) Ho"> <meta name="description" content="Here is a iOS development debuging error record."> <meta name="keywords" content="Software Development Engineer"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/command-line.png?0c818eda30e553ba2f0d187ca37db021"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://imilesho.github.io/blog/2023/iOSError/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?bf50d6d9dd867d3e0f3b0add94449649"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Yuanlai He (Miles) </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">Resume </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">iOS development debuging error record - 1</h1> <p class="post-meta"> October 08, 2023 </p> <p class="post-tags"> <a href="/blog/2023"> <i class="fa-solid fa-calendar fa-sm"></i> 2023 </a>   ·   <a href="/blog/tag/ios"> <i class="fa-solid fa-hashtag fa-sm"></i> iOS</a>   <a href="/blog/tag/error"> <i class="fa-solid fa-hashtag fa-sm"></i> Error</a>   <a href="/blog/tag/programming"> <i class="fa-solid fa-hashtag fa-sm"></i> Programming</a>     ·   <a href="/blog/category/posts"> <i class="fa-solid fa-tag fa-sm"></i> posts</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <h3 id="error-description">Error description</h3> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Showing Recent Errors Only
Multiple commands produce '/Users/yuanlaihe/Library/Developer/Xcode/DerivedData/Sep769_project-bhiaxmkofcqtukgaxxpgtjmmcxbu/Build/Products/Debug-iphonesimulator/Sep769_project.app/Info.plist'
</code></pre></div></div> <p>我从firebase的example项目中复制了一个Info.plist文件过来后编译时报了如上错误。</p> <p>这个报错意味着在构建过程中，存在两个命令或步骤都试图生成或复制到相同的输出路径，即 <code class="language-plaintext highlighter-rouge">Sep769_project.app/Info.plist</code>。这种情况可能会在你向项目中添加文件或配置，或从其他项目中复制内容时发生。</p> <p>由于你提到是从 Firebase 的示例项目中复制过来的，可能是在复制过程中不小心添加了额外的 <code class="language-plaintext highlighter-rouge">Info.plist</code> 文件或相关的构建阶段。</p> <p>要解决这个问题，你可以按照以下步骤操作：</p> <ol> <li> <p><strong>打开 Xcode 并选择你的项目文件</strong>（通常在 Navigator 面板的最顶部）。</p> </li> <li> <p><strong>选择你的 target</strong>，然后点击 <strong>Build Phases</strong> 选项卡。</p> </li> <li> <p><strong>展开 “Copy Bundle Resources” 阶段</strong>。在这里，检查是否有两个 <code class="language-plaintext highlighter-rouge">Info.plist</code> 文件。如果有，删除其中一个。</p> </li> <li> <p><strong>展开 “Compile Sources” 阶段</strong>。确保这里没有 <code class="language-plaintext highlighter-rouge">Info.plist</code> 文件。通常，<code class="language-plaintext highlighter-rouge">Info.plist</code> 文件不应该被编译，所以它不应该出现在这里。</p> </li> <li> <p><strong>清理构建文件夹</strong>。这可以通过选择菜单栏上的 <code class="language-plaintext highlighter-rouge">Product</code> &gt; <code class="language-plaintext highlighter-rouge">Clean Build Folder</code> 或使用快捷键 <code class="language-plaintext highlighter-rouge">Shift + Command + K</code> 来完成。</p> </li> <li> <p><strong>重新构建项目</strong>。</p> </li> </ol> <p>按照上述步骤操作后，该问题应该得到解决。如果问题仍然存在，你可能需要深入检查其他构建设置和阶段，或考虑检查 <code class="language-plaintext highlighter-rouge">.xcodeproj</code> 文件或 <code class="language-plaintext highlighter-rouge">.xcworkspace</code> 文件是否有冲突或错误配置。</p> <p>这是基于多年iOS开发经验以及对Xcode的深入了解所得出的结论。开发过程中常见的错误和问题，尤其是与构建和配置相关的问题，往往在社区中被反复提及和讨论。当开发者遇到这些问题并解决它们后，这些解决方案往往会留存在他们的经验和知识库中。</p> <p>“Multiple commands produce”这一错误提示，尤其是与<code class="language-plaintext highlighter-rouge">Info.plist</code>文件相关的提示，通常指示了构建过程中有多个步骤试图操作相同的文件或资源。考虑到<code class="language-plaintext highlighter-rouge">Info.plist</code>文件的特殊性和重要性（每个iOS应用只应该有一个），一个常见的解决方法是检查“Copy Bundle Resources”阶段，因为这是Xcode用来复制资源文件到应用bundle中的地方。</p> <p>要成为一个高效的问题解决者，以下是一些建议：</p> <ol> <li> <p><strong>了解工具</strong>：花时间深入了解你使用的工具和技术。对Xcode的深入了解可以帮助你更好地理解其构建和配置过程。</p> </li> <li> <p><strong>搜索和社区</strong>：当遇到问题时，尝试在Stack Overflow、Apple Developer Forums和其他相关社区中搜索相同或类似的问题。很可能有人已经遇到并解决了相同的问题。</p> </li> <li> <p><strong>逐步调试</strong>：当遇到问题时，尝试逐步回退到最后一个已知的工作状态，并逐步应用更改，直到你能够准确地识别问题的来源。</p> </li> <li> <p><strong>持续学习</strong>：技术和工具总是在进化。定期为自己分配时间来学习新的技术、工具和最佳实践。</p> </li> <li> <p><strong>与同事讨论</strong>：两个脑袋总比一个脑袋好。如果你有困惑或遇到问题，尝试与团队成员或同事讨论。他们可能会提供一个不同的视角或解决方案。</p> </li> </ol> <p>最后，遇到问题并学会解决它们是成长的一部分。每次遇到并克服一个问题，你都会学到新的东西并增强你的问题解决能力。</p> <h3 id="error-2">Error 2</h3> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Sandbox: rsync.samba(12698) deny(1) file-write-create /Users/shrek/Library/Developer/Xcode/DerivedData/PhotoPC-dejmlgrmwbxazrgvfwpxvhadwsuy/Build/Products/Debug-iphonesimulator/PhotoPC.app/Frameworks/Alamofire.framework/.Alamofire.ihLdr1

Sandbox: rsync.samba(12698) deny(1) file-write-create /Users/shrek/Library/Developer/Xcode/DerivedData/PhotoPC-dejmlgrmwbxazrgvfwpxvhadwsuy/Build/Products/Debug-iphonesimulator/PhotoPC.app/Frameworks/Alamofire.framework/.Info.plist.vn2fty
![]("https://developer.apple.com/forums/content/attachment/fb5c4e33-9603-4c87-9f39-aab81475dbf9" "title=Screenshot 2023-06-07 at 00.48.08.png;width=1429;height=232")

</code></pre></div></div> <p>Check that ENABLE_USER_SCRIPT_SANDBOXING is disabled in the project’s build settings.</p> <hr> <p>The fix if you want to keep ENABLE_USER_SCRIPT_SANDBOXING enabled is to add the files as inputs and outputs. I use a script to set the build number in the build info plist file. I just need to set “${TARGET_BUILD_DIR}/${INFOPLIST_PATH}” as an output of the script</p> <p>build setting ENABLE_USER_SCRIPT_SANDBOXING was added in Xcode 14 but enabled in the update to recommend setting in Xcode 15</p> <p>From the Xcode 14 Release Notes:</p> <p>You can now enable sandboxing for shell script build phases using the ENABLE_USER_SCRIPT_SANDBOXING build setting. Sandboxing blocks access to files inside the source root of the project as well as the Derived Data directory unless you list those files as inputs or outputs. When enabled, the build fails with a sandbox violation if a script phase attempts to read from or write to an undeclared dependency, preventing incorrect builds.</p> <p>Thanks to Daniel Jalket’s Blog Post: Xcode Build Script Sandboxing - https://indiestack.com/2023/06/xcode-build-script-sandboxing/</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/the-shell/">The Shell Command Line and File System Basics</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/IAM-and-IAM-Identity-Center/">IAM and IAM Identity Center</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/ANN-Backpropagation/">ANN Backpropagation Process</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/jekyll_mathjax_blog_post/">jeckyll mathjax blog post</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/Positive-defnite-matrices/">Linear Algebra Foundation based Homework Problems - Positive defnite matrices</a> </li> <div id="giscus_thread" style="max-width: 800px; margin: 0 auto;"> <script>let giscusTheme=localStorage.getItem("theme"),giscusAttributes={src:"https://giscus.app/client.js","data-repo":"iMilesHo/iMilesHo.github.io","data-repo-id":"","data-category":"Comments","data-category-id":"","data-mapping":"title","data-strict":"1","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":giscusTheme,"data-lang":"en",crossorigin:"anonymous",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([t,e])=>giscusScript.setAttribute(t,e)),document.getElementById("giscus_thread").appendChild(giscusScript);</script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Miles (Yuanlai) Ho. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?2930004b8d7fcd0a8e00fdcfc8fc9f24"></script> <script defer src="/assets/js/common.js?4a129fbf39254905f505c7246e641eaf"></script> <script defer src="/assets/js/copy_code.js?7254ae07fe9cc5f3a10843e1c0817c9c" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>